{"version":3,"sources":["Helpers/Constants.js","redux/User/userActions.js","redux/Admin/adminActions.js","redux/loadingActions.js","Helpers/components/Loading/Loading.js","redux/store.js","firebase.js","App.js","index.js"],"names":["baseUrl","emailRegex","passwordRegex","RegExp","countryList","getToken","localStorage","getItem","sessionStorage","getRole","getDeviceToken","initialUserData","id","email","role","data","userActions","createSlice","name","initialState","userData","editModal","creditCards","value","allGoals","myGoals","donationDone","notifications","reducers","setUser","state","action","payload","setAllGoals","setMyGoals","outUser","removeItem","window","location","reload","openEditModal","closeEditModal","deleteCreditCard","splice","setDonationDone","setNotifications","setNotificationsSeen","addNotification","push","deleteNotification","filter","el","notificationId","actions","adminActions","updateModal","changeTrigger","goals","users","donations","averageCount","setGoals","items","count","setUsers","setDonations","triggerChange","loadingActions","loading","setLoading","Loading","className","configureStore","reducer","user","admin","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Auth","lazy","User","Admin","App","useEffect","messaging","requestPermission","then","vapidKey","currentToken","setItem","catch","err","console","log","onMessage","navigator","serviceWorker","getRegistration","registration","notificationTitle","title","notificationOptions","body","description","showNotification","store","dispatch","fallback","exact","path","component","to","toLowerCase","render","props","pathname","from","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6bb0cf76.chunk.js","sourcesContent":["export const baseUrl = 'https://fndrisr.herokuapp.com/';\r\n\r\nexport const emailRegex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n\r\nexport const passwordRegex = new RegExp(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,30}$/);\r\n\r\nexport const countryList = [\"Afghanistan\",\"AlandIslands\",\"Albania\",\"Algeria\",\"AmericanSamoa\",\"Andorra\",\"Angola\",\"Anguilla\",\"Antarctica\",\"AntiguaAndBarbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas\",\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"BonaireSaintEustatiusAndSaba\",\"BosniaAndHerzegovina\",\"Botswana\",\"BouvetIsland\",\"Brazil\",\"BritishIndianOceanTerritory\",\"BruneiDarussalam\",\"Bulgaria\",\"BurkinaFaso\",\"Burundi\",\"Cambodia\",\"Cameroon\",\"Canada\",\"CanaryIslands\",\"CapeVerde\",\"CaymanIslands\",\"CentralAfricanRepublic\",\"CeutaAndMelilla\",\"Chad\",\"Chile\",\"China\",\"ChristmasIsland\",\"CocosKeelingIslands\",\"Colombia\",\"Comoros\",\"CongoDemocraticPeoplesRepublic\",\"CongoRepublicOf\",\"CookIslands\",\"CostaRica\",\"CoteDIvoire\",\"CroatiaHrvatska\",\"Cuba\",\"Curacao\",\"Cyprus\",\"CzechRepublic\",\"Denmark\",\"Djibouti\",\"Dominica\",\"DominicanRepublic\",\"EastTimor\",\"Ecuador\",\"Egypt\",\"ElSalvador\",\"EquatorialGuinea\",\"Eritrea\",\"Estonia\",\"Ethiopia\",\"FalklandIslands\",\"FaroeIslands\",\"Fiji\",\"Finland\",\"France\",\"FrenchGuiana\",\"FrenchPolynesia\",\"FrenchSouthernTerritories\",\"Gabon\",\"Gambia\",\"Georgia\",\"Germany\",\"Ghana\",\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guadeloupe\",\"Guam\",\"Guatemala\",\"Guernsey\",\"Guinea\",\"GuineaBissau\",\"Guyana\",\"Haiti\",\"HeardAndMcDonaldIslands\",\"HolySeeCityVaticanState\",\"Honduras\",\"HongKong\",\"Hungary\",\"Iceland\",\"India\",\"Indonesia\",\"IranIslamicRepublicOf\",\"Iraq\",\"Ireland\",\"IsleOfMan\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jersey\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kiribati\",\"KoreaDemocraticPeoplesRepublic\",\"KoreaRepublicOf\",\"Kosovo\",\"Kuwait\",\"Kyrgyzstan\",\"LaoPeoplesDemocraticRepublic\",\"Latvia\",\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macau\",\"Macedonia\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"MarshallIslands\",\"Martinique\",\"Mauritania\",\"Mauritius\",\"Mayotte\",\"Mexico\",\"MicronesiaFederalStateOf\",\"MoldovaRepublicOf\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Montserrat\",\"Morocco\",\"Mozambique\",\"Myanmar\",\"Namibia\",\"Nauru\",\"Nepal\",\"Netherlands\",\"NewCaledonia\",\"NewZealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"Niue\",\"NorfolkIsland\",\"NorthernMarianaIslands\",\"Norway\",\"Oman\",\"Pakistan\",\"Palau\",\"Panama\",\"PapuaNewGuinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"PitcairnIsland\",\"Poland\",\"Portugal\",\"PuertoRico\",\"Qatar\",\"ReunionIsland\",\"Romania\",\"RussianFederation\",\"Rwanda\",\"SaintBarthelemy\",\"SaintHelena\",\"SaintKittsAndNevis\",\"SaintLucia\",\"SaintMartin\",\"SaintVincentAndTheGrenadines\",\"Samoa\",\"SanMarino\"];\r\n\r\nexport const getToken = () => {\r\n    return localStorage.getItem('auth_token') || sessionStorage.getItem('auth_token')\r\n}\r\nexport const getRole = () => {\r\n    return localStorage.getItem('role') || sessionStorage.getItem('role')\r\n}\r\nexport const getDeviceToken = () => {\r\n    return localStorage.getItem('deviceToken') || ''\r\n}","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst initialUserData = {\r\n    id: '',\r\n    email: '',\r\n    role: '',\r\n    data: {}\r\n}\r\n\r\nconst initialCreditCards = [\r\n    {id: 1, value: '4561 2778 5633 3522'},\r\n    {id: 2, value: '7456 1225 7882 1155'}\r\n];\r\n\r\nexport const userActions = createSlice({\r\n    name: 'user',\r\n    initialState: {\r\n        userData: initialUserData,\r\n        editModal: '',\r\n        creditCards: initialCreditCards,\r\n        allGoals: [],\r\n        myGoals: [],\r\n        donationDone: false,\r\n        notifications: []\r\n    },\r\n    reducers: {\r\n        setUser: (state, action) => {\r\n            state.userData = action.payload;\r\n        },\r\n        setAllGoals: (state, action) => {\r\n            state.allGoals = action.payload || []\r\n        },\r\n        setMyGoals: (state, action) => {\r\n            state.myGoals = action.payload || []\r\n        },\r\n        outUser: state => {\r\n            state.userData = initialUserData;\r\n            localStorage.removeItem('auth_token');\r\n            localStorage.removeItem('role');\r\n            sessionStorage.removeItem('auth_token');\r\n            sessionStorage.removeItem('role');\r\n            window.location.reload();\r\n        },\r\n        openEditModal: (state, action) => {\r\n            state.editModal = action.payload\r\n        },\r\n        closeEditModal: state => {\r\n            state.editModal = ''\r\n        },\r\n        deleteCreditCard: (state, action) => {\r\n            state.creditCards.splice(action.payload, 1)\r\n        },\r\n        setDonationDone: (state, action) => {\r\n            state.donationDone = action.payload\r\n        },\r\n        setNotifications: (state, action) => {\r\n            state.notifications = action.payload\r\n        },\r\n        setNotificationsSeen: (state, action) => {\r\n            state.notifications = action.payload\r\n        },\r\n        addNotification: (state, action) => {\r\n            state.notifications.push(action.payload)\r\n        },\r\n        deleteNotification: (state, action) => {\r\n            state.notifications = state.notifications.filter(el => el.notificationId != action.payload)\r\n        }\r\n    }\r\n})\r\n\r\nexport const {\r\n    setUser,\r\n    setAllGoals,\r\n    setMyGoals,\r\n    outUser,\r\n    openEditModal,\r\n    closeEditModal,\r\n    deleteCreditCard,\r\n    setDonationDone,\r\n    setNotifications,\r\n    addNotification,\r\n    deleteNotification\r\n} = userActions.actions\r\n\r\nexport default userActions.reducer","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst initialAdminData = {\r\n    updateModal: '',\r\n    goals: [],\r\n    averageCount: 0,\r\n    donations: [],\r\n    users: []\r\n}\r\n\r\nexport const adminActions = createSlice({\r\n    name: 'admin',\r\n    initialState: {\r\n        updateModal: '',\r\n        changeTrigger: false,\r\n        goals: [],\r\n        users: [],\r\n        donations: [],\r\n        averageCount: 0\r\n\r\n    },\r\n    reducers: {\r\n        setGoals: (state, action) => {\r\n            state.goals = action.payload.items;\r\n            state.averageCount = action.payload.count;\r\n        },\r\n        setUsers: (state, action) => {\r\n            state.users = action.payload.items;\r\n            state.averageCount = action.payload.count;\r\n        },\r\n        setDonations: (state, action) => {\r\n            state.donations = action.payload.items;\r\n            state.averageCount = action.payload.count;\r\n        },\r\n        triggerChange: state => {\r\n            state.changeTrigger = !state.changeTrigger\r\n        },\r\n        outUser: () => {\r\n            localStorage.removeItem('auth_token');\r\n            localStorage.removeItem('role');\r\n            sessionStorage.removeItem('auth_token');\r\n            sessionStorage.removeItem('role');\r\n            window.location.reload();\r\n        },\r\n    }\r\n})\r\n\r\nexport const {\r\n    setGoals,\r\n    setUsers,\r\n    setDonations,\r\n    triggerChange,\r\n    outUser\r\n} = adminActions.actions\r\n\r\nexport default adminActions.reducer","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nexport const loadingActions = createSlice({\r\n    name: 'loading',\r\n    initialState: {\r\n        loading: false\r\n    },\r\n    reducers: {\r\n        setLoading: (state, action) => {\r\n            state.loading = action.payload;\r\n        }\r\n    }\r\n})\r\n\r\nexport const { setLoading } = loadingActions.actions\r\n\r\nexport default loadingActions.reducer","import React from 'react';\r\nimport './Loading.scss'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className='loader_container'>\r\n            <div className='loader_content'>\r\n                <span className='loader_spinner'></span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loading;","import { configureStore } from '@reduxjs/toolkit';\r\nimport userActions from './User/userActions';\r\nimport loadingActions from \"./loadingActions\";\r\nimport adminActions from \"./Admin/adminActions\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n      user: userActions,\r\n      admin: adminActions,\r\n      loading: loadingActions\r\n  }\r\n})","import firebase from \"firebase/app\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyB6xax9YOloCNGCO2SVtq6hd99BGSY24iA\",\r\n    authDomain: \"fndrisr-6c1d7.firebaseapp.com\",\r\n    projectId: \"fndrisr-6c1d7\",\r\n    storageBucket: \"fndrisr-6c1d7.appspot.com\",\r\n    messagingSenderId: \"259252763000\",\r\n    appId: \"1:259252763000:web:27921350440f4f21cfb08d\",\r\n    measurementId: \"G-E4ZELPX905\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React, {Suspense, lazy, useEffect} from \"react\";\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport Loading from \"./Helpers/components/Loading/Loading\";\r\nimport {getRole, getToken} from \"./Helpers/Constants\";\r\nimport store from \"./redux/store\";\r\nimport {addNotification} from \"./redux/User/userActions\";\r\nimport firebase from \"./firebase\";\r\nimport 'firebase/messaging';\r\n\r\nconst Home = lazy(() => import('./Home/Home'));\r\nconst Auth = lazy(() => import('./Auth/Auth'));\r\nconst User = lazy(() => import('./User/User'));\r\nconst Admin = lazy(() => import('./Admin/Admin'));\r\n\r\nfunction App() {\r\n\r\n    useEffect(() => {\r\n        const messaging = firebase.messaging();\r\n        messaging.requestPermission().then(() => {\r\n            return messaging.getToken({ vapidKey: 'BMG5erzYk7uh46d7Sl6M6b6bhS55j0ZkC-VsDWTEMdoLwt8txep00PKGCw-PZBYDhek-Y6F1_qSTVUJTqhfrNTw' })\r\n        }).then((currentToken) => {\r\n            localStorage.setItem('deviceToken', currentToken)\r\n        }).catch(function(err) {\r\n            console.log('Unable to get permission to notify. ', err);\r\n        });\r\n        messaging.onMessage((payload) => {\r\n            navigator.serviceWorker.getRegistration('/firebase-cloud-messaging-push-scope').then(registration => {\r\n                const notificationTitle = payload.data.title;\r\n                const notificationOptions = {\r\n                    body: payload.data.description,\r\n                };\r\n                registration.showNotification(notificationTitle, notificationOptions);\r\n            });\r\n            store.dispatch(addNotification(payload.data))\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <Suspense fallback={'Loading...'}>\r\n            <Switch>\r\n                <Route exact path='/' component={() => {\r\n                    if (getToken()) {\r\n                        return <Redirect to={`/${getRole().toLowerCase()}`}/>\r\n                    } else {\r\n                        return <Redirect to='/auth/login'/>\r\n                    }\r\n                }}/>\r\n\r\n                <Route path='/auth' component={() => {\r\n                    if (getToken()) {\r\n                        return <Redirect to='/'/>\r\n                    } else {\r\n                        return <Auth/>\r\n                    }\r\n                }}/>\r\n                <Route path='/user'\r\n                       render={props => {\r\n                           return (\r\n                               getToken() ? (<User/>)\r\n                               :\r\n                               (\r\n                                   <Redirect to={{\r\n                                       pathname: '/auth/login',\r\n                                       state: {from: props.location, role: 'USER'}\r\n                                   }}\r\n                                   />\r\n                               )\r\n                       )}}/>\r\n                <Route path='/admin' component={() => {\r\n                    if (getToken()) {\r\n                        return <Admin/>\r\n                    } else {\r\n                        return <Redirect to='/auth/login'/>\r\n                    }\r\n                }}/>\r\n                <Route exact path='**' component={() => (<div>error 404</div>)}/>\r\n            </Switch>\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <BrowserRouter>\r\n            <App/>\r\n        </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}